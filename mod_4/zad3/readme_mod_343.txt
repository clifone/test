Усовершенствованая 4.2

Есть два семафора которые отвечаю за доспуп к файлу. У каждого экземпляра программы есть свои два действия которые они могут выполнять над семафорами.
Начальное значение для обоих семафоров 0.


	программа 1  							программа 2
	
	....								....
	
	ждет пока Сем1 не станет равен 0				ждет пока Сем1 не станет равен 2 чтобы уменьшить на 2
	(обычное состояние начала)					(состояние ожидания первого или сразуже начать работать)
	
	увеличивает значение Сем1 до 2					увеличивает значение Сем1 до 1
									(блокируем ресур для двух программ)
	....								....
	действия над разделяемым ресурсом				действия над разделяемым ресурсом
	код программы							код программы
	....								....
	
	ждет пока Сем2 не станет равен 0				ждет пока Сем2 не станет равен 2 чтобы уменьшить на 2
	(обычное состояние начала)					(состояние ожидания первого или сразуже начать работать)
	
	увеличивает значения Сем2 до 2					уменьшить значения Сем1 на 1
									(этим разрешаем доступ для следуещей программы на Сем1)
